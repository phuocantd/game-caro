(this["webpackJsonpgame-caro"]=this["webpackJsonpgame-caro"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(4),i=a.n(n),l=(a(15),a(2)),c=a(5),u=a(6),o=a(9),h=a(7),k=a(1),f=a(8);function y(e){var t=e.onClick,a=e.value,r=e.isWin,n=e.curClick;return s.a.createElement("button",{type:"button",className:"square ".concat(n?"square-click":""," + ").concat(r?"square-win":""),onClick:t},a)}var p=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).reverseArray=function(){var e=a.state,t=e.historys,r=e.isForward,s=t.slice();t.reverse(),a.setState({historys:Object(l.a)(s),isForward:!r}),r?a.clickList(0):a.clickList(s.length-1)};var r=a.props.size;return a.state={square:Array(r).fill(null).map((function(){return Array(r).fill(null)})),classNames:new Array(r).fill(null).map((function(){return new Array(r).fill(null).map((function(){return{isDark:!1,isWin:!1,isList:!1}}))})),xIsNext:!0,status:"Next player: X",isWinner:!1,preRowDark:{x:0,y:0},historys:[],isForward:!0,stepCurrent:0},a.checkRow=a.checkRow.bind(Object(k.a)(a)),a.checkCol=a.checkCol.bind(Object(k.a)(a)),a.checkSlash=a.checkSlash.bind(Object(k.a)(a)),a.checkBackSlash=a.checkBackSlash.bind(Object(k.a)(a)),a.checkWinner=a.checkWinner.bind(Object(k.a)(a)),a.handleClick=a.handleClick.bind(Object(k.a)(a)),a.reverseArray=a.reverseArray.bind(Object(k.a)(a)),a.renderSquare=a.renderSquare.bind(Object(k.a)(a)),a.getArray=a.getArray.bind(Object(k.a)(a)),a.resetGame=a.resetGame.bind(Object(k.a)(a)),a.clickList=a.clickList.bind(Object(k.a)(a)),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getArray",value:function(e){var t=0,a=[],r=[];r.push(s.a.createElement("button",{type:"button",className:"square",key:0}));for(var n=0;n<e;n+=1)r.push(s.a.createElement("button",{type:"button",className:"square",key:n+1},String.fromCharCode(n+65)));a.push(r);for(var i=0;i<e;i+=1){(r=[]).push(s.a.createElement("button",{type:"button",className:"square",key:-1},i+1));for(var l=0;l<e;l+=1)r.push(this.renderSquare(t)),t+=1;a.push(s.a.createElement("div",{className:"board-row",key:i},r))}return a}},{key:"checkRow",value:function(e){var t=this.props.size,a=this.state.square,r=0,s=1,n=Math.floor(e/t),i=e%t,l=a.slice(),c=i+1;for(l[n][c]!==l[n][i]&&null!==l[n][c]&&(r+=1);l[n][c]===l[n][i]&&c<t;)if(s+=1,c+=1,l[n][c]!==l[n][i]&&null!==l[n][c]){r+=1;break}for(c=i-1,l[n][c]!==l[n][i]&&null!==l[n][c]&&(r+=1);l[n][c]===l[n][i]&&c>=0;)if(s+=1,c-=1,l[n][c]!==l[n][i]&&null!==l[n][c]){r+=1;break}return r<2&&5===s?{player:l[n][i],type:0}:null}},{key:"checkCol",value:function(e){var t=this.props.size,a=this.state.square,r=0,s=1,n=Math.floor(e/t),i=e%t,l=a.slice(),c=n+1;for(c<t&&l[c][i]!==l[n][i]&&null!==l[c][i]&&(r+=1);c<t&&l[c][i]===l[n][i];)if(s+=1,(c+=1)<t&&l[c][i]!==l[n][i]&&null!==l[c][i]){r+=1;break}for((c=n-1)>=0&&l[c][i]!==l[n][i]&&null!==l[c][i]&&(r+=1);c>=0&&l[c][i]===l[n][i];)if(s+=1,(c-=1)>=0&&l[c][i]!==l[n][i]&&null!==l[c][i]){r+=1;break}return r<2&&5===s?{player:l[n][i],type:1}:null}},{key:"checkSlash",value:function(e){var t=this.props.size,a=this.state.square,r=0,s=1,n=Math.floor(e/t),i=e%t,l=a.slice(),c=n-1,u=i+1;for(c>=0&&u<t&&l[c][u]!==l[n][i]&&null!==l[c][u]&&(r+=1);c>=0&&u<t&&l[c][u]===l[n][i];)if(s+=1,u+=1,(c-=1)>=0&&u<t&&l[c][u]!==l[n][i]&&null!==l[c][u]){r+=1;break}for(u=i-1,(c=n+1)<t&&u>=0&&l[c][u]!==l[n][i]&&null!==l[c][u]&&(r+=1);c<t&&u>=0&&l[c][u]===l[n][i];)if(s+=1,u-=1,(c+=1)<t&&u>=0&&l[c][u]!==l[n][i]&&null!==l[c][u]){r+=1;break}return r<2&&5===s?{player:l[n][i],type:2}:null}},{key:"checkBackSlash",value:function(e){var t=this.props.size,a=this.state.square,r=0,s=1,n=Math.floor(e/t),i=e%t,l=a.slice(),c=n-1,u=i-1;for(c>=0&&u>=0&&l[c][u]!==l[n][i]&&null!==l[c][u]&&(r+=1);c>=0&&u>=0&&l[c][u]===l[n][i];)if(s+=1,u-=1,(c-=1)>=0&&u>=0&&l[c][u]!==l[n][i]&&null!==l[c][u]){r+=1;break}for(u=i+1,(c=n+1)<t&&u<t&&l[c][u]!==l[n][i]&&null!==l[c][u]&&(r+=1);c<t&&u<t&&l[c][u]===l[n][i];)if(s+=1,u+=1,(c+=1)<t&&u<t&&l[c][u]!==l[n][i]&&null!==l[c][u]){r+=1;break}return r<2&&5===s?{player:l[n][i],type:3}:null}},{key:"checkWinner",value:function(e){var t=this.checkRow(e);return null!==t?t:null!==(t=this.checkCol(e))?t:null!==(t=this.checkSlash(e))?t:null!==(t=this.checkBackSlash(e))?t:null}},{key:"handleClick",value:function(e){var t=this.props.size,a=this.state,r=a.square,s=a.classNames,n=a.historys,i=a.isWinner,c=a.isForward,u=a.xIsNext,o=a.stepCurrent,h=a.preRowDark,k=Math.floor(e/t),f=e%t,y=0,p=0,b=0,m=r.slice(),v=s.slice(),d=n.slice(),N=null;if(!m[k][f]&&!i){if(c)for(;o+1<d.length;)m[(N=d.pop()).x][N.y]=!1;else for(var C=0;C<o;C+=1)m[(N=d.shift()).x][N.y]=!1;c?(d.push({x:k,y:f,player:u?"X":"O"}),this.clickList(o+1)):(d.unshift({x:k,y:f,player:u?"X":"O"}),this.clickList(0)),this.setState({historys:Object(l.a)(d)}),v[h.x][h.y].isDark=!1,v[k][f].isDark=!0,m[k][f]=u?"X":"O",this.setState({square:Object(l.a)(m),xIsNext:!u});var O=this.checkWinner(e);if(O)switch(v[k][f].isDark=!1,this.setState({status:"Winner: ".concat(O.player),isWinner:!0}),v[k][f].isWin=!0,O.type){case 0:for(y=f-1;m[k][y]===m[k][f]&&y<t;)v[k][y].isWin=!0,y+=1;for(y=f-1;m[k][y]===m[k][f]&&y>=0;)v[k][y].isWin=!0,y-=1;break;case 1:for(y=k+1;y<t&&m[y][f]===m[k][f];)v[y][f].isWin=!0,y+=1;for(y=k-1;y>=0&&m[y][f]===m[k][f];)v[y][f].isWin=!0,y-=1;break;case 2:for(p=k-1,b=f+1;p>=0&&b<t&&m[p][b]===m[k][f];)v[p][b].isWin=!0,p-=1,b+=1;for(p=k+1,b=f-1;p<t&&b>=0&&m[p][b]===m[k][f];)v[p][b].isWin=!0,p+=1,b-=1;break;case 3:for(p=k-1,b=f-1;p>=0&&b>=0&&m[p][b]===m[k][f];)v[p][b].isWin=!0,p-=1,b-=1;for(p=k+1,b=f+1;p<t&&b<t&&m[p][b]===m[k][f];)v[p][b].isWin=!0,p+=1,b+=1}else this.setState({status:"Next player: ".concat(u?"O":"X"),classNames:Object(l.a)(v),preRowDark:{x:k,y:f}})}}},{key:"clickList",value:function(e){var t=this.state,a=t.stepCurrent,r=t.historys,s=t.classNames,n=this.props.size,i=s.slice();if(0!==r.length){var c=Math.floor(a/n),u=a%n;a>=0&&(i[c][u].isList=!1),u=e%n,i[c=Math.floor(e/n)][u].isList=!0,this.setState({stepCurrent:e,classNames:Object(l.a)(i)})}}},{key:"resetGame",value:function(){var e=this.props.size;this.setState({square:Array(e).fill(null).map((function(){return Array(e).fill(null)})),classNames:new Array(e).fill(null).map((function(){return new Array(e).fill(null).map((function(){return{isDark:!1,isWin:!1,isList:!1}}))})),xIsNext:!0,status:"Next player: X",isWinner:!1,preRowDark:{x:0,y:0},historys:[],stepCurrent:0})}},{key:"renderSquare",value:function(e){var t=this,a=this.state,r=a.square,n=a.classNames,i=this.props.size,l=Math.floor(e/i),c=e%i;return s.a.createElement(y,{value:r[l][c],onClick:function(){return t.handleClick(e)},key:e,curClick:n[l][c].isDark,isWin:n[l][c].isWin})}},{key:"render",value:function(){var e=this,t=this.props.size,a=this.state,r=a.status,n=a.historys,i=a.classNames;return s.a.createElement("div",{className:"game"},s.a.createElement("div",{className:"game-board"},s.a.createElement("button",{className:"btn-reset",type:"button",onClick:function(){return e.resetGame()}},"Reset"),s.a.createElement("div",{className:"status"},r),this.getArray(t)),s.a.createElement("div",{className:"game-info"},s.a.createElement("button",{type:"button",className:"btn-history",onClick:this.reverseArray},"History"),n.map((function(a,r){return s.a.createElement("ol",{key:a.x*t+a.y},s.a.createElement("button",{type:"button",className:"btn-list ".concat(i[Math.floor(r/t)][r%t].isList?"btn-list-clicked":""),onClick:function(){return e.clickList(r)}},s.a.createElement("span",null,"Player ".concat(a.player,": [").concat(a.x+1,", ").concat(String.fromCharCode(a.y+65),"]"))))}))))}}]),t}(s.a.Component);a(16);var b=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(p,{size:20}))};i.a.render(s.a.createElement(b,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.80160ae1.chunk.js.map